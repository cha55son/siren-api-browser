<div class="entity-partial">
    <!-- ko if: $data.isSubEntity() -->
        <a href="#" data-bind="attr: { href: $root.getURL(href) }" class="link list-group-item">
            <h4 class="list-group-item-heading" data-bind="text: rels.join(', ')"></h4>
            <p class="list-group-item-text" data-bind="visible: title, text: title"></p>
        </a>
    <!-- /ko -->
    <!-- ko ifnot: $data.isSubEntity() -->
        <div class="row">
            <div class="col-md-6">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">
                            <a data-toggle="collapse" data-bind="attr: { 'data-target': '#ent-props-' + id }">
                                Properties
                            </a>
                        </h3>
                    </div>
                    <div data-bind="attr: { id: 'ent-props-' + id }" class="panel-collapse collapse in">
                        <div class="panel-body">
                            <pre data-bind="text: $data.jsonProps()"></pre>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">
                            <a data-toggle="collapse" data-bind="attr: { 'data-target': '#ent-meta-' + id }">
                                Metadata
                            </a>
                        </h3>
                    </div>
                    <div data-bind="attr: { id: 'ent-meta-' + id }" class="panel-collapse collapse in">
                        <div class="panel-body">
                            <ul>
                                <li data-bind="visible: rels.length > 0, text: 'rel: ' + rels.join(', ')"></li>
                                <li data-bind="visible: classes.length > 0, text: 'class: ' + classes.join(', ')"></li>
                                <li data-bind="visible: title, text: 'title: ' + title"></li>
                                <li data-bind="visible: href, text: 'href: ' + href"></li>
                                <li data-bind="visible: type, text: 'type: ' + type"></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">
                    <a data-toggle="collapse" data-bind="attr: { 'data-target': '#ent-ents-' + id }">
                        Entities <span data-bind="text: entities.length" class="badge"></span>
                    </a>
                </h3>
            </div>
            <div data-bind="attr: { id: 'ent-ents-' + id }" class="panel-collapse collapse in">
                <div class="panel-body">
                    <ul class="list-group" data-bind="foreach: entities">
                        <li class="list-group-item" data-bind="compose: 'partials/entity.html'"></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <div class="panel panel-default" style="margin-bottom: 0">
                    <div class="panel-heading">
                        <h3 class="panel-title">
                            <a data-toggle="collapse" data-bind="attr: { 'data-target': '#ent-actions-' + id }">
                                Actions <span data-bind="text: actions.length" class="badge"></span>
                            </a>
                        </h3>
                    </div>
                    <div data-bind="attr: { id: 'ent-actions-' + id }" class="panel-collapse collapse in">
                        <div class="panel-body">
                            <div class="list-group" data-bind="foreach: actions" style="margin-bottom: 0">
                                <a href="#" data-bind="click: $root.actionForm.bind($root)" class="link list-group-item">
                                    <h4 class="list-group-item-heading" data-bind="text: name"></h4>
                                    <p class="list-group-item-text" data-bind="visible: title, text: title"></p>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="panel panel-default" style="margin-bottom: 0">
                    <div class="panel-heading">
                        <h3 class="panel-title">
                            <a data-toggle="collapse" data-bind="attr: { 'data-target': '#ent-links-' + id }">
                                Links <span data-bind="text: links.length" class="badge"></span>
                            </a>
                        </h3>
                    </div>
                    <div data-bind="attr: { id: 'ent-links-' + id }" class="panel-collapse collapse in">
                        <div class="panel-body">
                            <div class="list-group" data-bind="foreach: links" style="margin-bottom: 0">
                                <a href="#" data-bind="attr: { href: $root.getURL(href) }" class="link list-group-item">
                                    <h4 class="list-group-item-heading" data-bind="text: rels.join(', ')"></h4>
                                    <p class="list-group-item-text" data-bind="visible: title, text: title"></p>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    <!-- /ko -->
</div>
